layouts:
- id: peh:CODEBOOK_v2.4_LAYOUT_SAMPLE_METADATA
  name: CODEBOOK_v2.4_LAYOUT_SAMPLE_METADATA
  ui_label: SAMPLE_METADATA
  sections:
  - id: peh:SAMPLE_METADATA_SECTION_SAMPLE
    ui_label: SAMPLE
    observable_entity_type: sample
    section_type: data_table
    elements:
    - label: id_sample
      observable_property: peh:OBSPROP_ID_id_sample
      is_observable_entity_key: true
      foreign_key_link:
        section: peh:SAMPLE_METADATA_SECTION_SAMPLETIMEPOINT_BWB
        label: id_sample
    - label: id_subject
      observable_property: peh:OBSPROP_ID_id_subject
      foreign_key_link:
        section: peh:SAMPLE_METADATA_SECTION_SUBJECTUNIQUE
        label: id_subject
    - label: matrix
      observable_property: peh:OBSPROP_ID_matrix
    - label: samplingyear
      observable_property: peh:OBSPROP_ID_samplingyear
    - label: samplingmonth
      observable_property: peh:OBSPROP_ID_samplingmonth
    - label: samplingday
      observable_property: peh:OBSPROP_ID_samplingday
    - label: samplinghour
      observable_property: peh:OBSPROP_ID_samplinghour
    - label: samplingminutes
      observable_property: peh:OBSPROP_ID_samplingminutes
    validation_designs:
    - validation_name: check_foreignkey_peh_SAMPLE_METADATA_SECTION_SAMPLE_id_subject
      validation_error_level: error
      validation_expression:
        validation_subject_contextual_field_references:
        - field_label: id_subject
        validation_command: is_in
        validation_arg_contextual_field_references:
        - dataset_label: SUBJECTUNIQUE
          field_label: id_subject
    - validation_name: check_foreignkey_peh_SAMPLE_METADATA_SECTION_SAMPLE_id_sample
      validation_error_level: error
      validation_expression:
        validation_subject_contextual_field_references:
        - field_label: id_sample
        validation_command: is_in
        validation_arg_contextual_field_references:
        - dataset_label: SAMPLETIMEPOINT_BWB
          field_label: id_sample
  - id: peh:SAMPLE_METADATA_SECTION_SUBJECTUNIQUE
    ui_label: SUBJECTUNIQUE
    observable_entity_type: person
    section_type: data_table
    elements:
    - label: id_subject
      observable_property: peh:OBSPROP_ID_id_subject
      is_observable_entity_key: true
    - label: id_participant
      observable_property: peh:OBSPROP_ID_id_participant
      foreign_key_link:
        section: peh:SAMPLE_METADATA_SECTION_SUBJECTUNIQUE
        label: id_subject
    - label: relation
      observable_property: peh:OBSPROP_ID_relation
    - label: sex
      observable_property: peh:OBSPROP_ID_sex
    - label: age_birth_m
      observable_property: peh:OBSPROP_ID_age_birth_m
    - label: smoking_m
      observable_property: peh:OBSPROP_ID_smoking_m
    validation_designs:
    - validation_name: check_foreignkey_peh_SAMPLE_METADATA_SECTION_SUBJECTUNIQUE_id_participant
      validation_error_level: error
      validation_expression:
        validation_subject_contextual_field_references:
        - field_label: id_participant
        validation_command: is_in
        validation_arg_contextual_field_references:
        - dataset_label: SUBJECTUNIQUE
          field_label: id_subject
  - id: peh:SAMPLE_METADATA_SECTION_SAMPLETIMEPOINT_BWB
    ui_label: SAMPLETIMEPOINT_BWB
    observable_entity_type: sample
    section_type: data_table
    elements:
    - label: id_sample
      observable_property: peh:OBSPROP_ID_id_sample
      is_observable_entity_key: true
      foreign_key_link:
        section: peh:SAMPLE_METADATA_SECTION_SAMPLE
        label: id_sample
    - label: chol
      observable_property: peh:OBSPROP_ID_chol
    - label: chol_lod
      observable_property: peh:OBSPROP_ID_chol_lod
    - label: chol_loq
      observable_property: peh:OBSPROP_ID_chol_loq
    validation_designs:
    - validation_name: check_foreignkey_peh_SAMPLE_METADATA_SECTION_SAMPLETIMEPOINT_BWB_id_sample
      validation_error_level: error
      validation_expression:
        validation_subject_contextual_field_references:
        - field_label: id_sample
        validation_command: is_in
        validation_arg_contextual_field_references:
        - dataset_label: SAMPLE
          field_label: id_sample
